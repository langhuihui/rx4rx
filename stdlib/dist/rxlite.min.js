!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var v=function(){},e=function(u){return function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];if(u){var r=u.apply(void 0,n);return u=null,r}}},n=function(){this.asaps=[],this._asaps=[]};n.prototype.push=function(n){this.asaps.push(n)},n.prototype._push=function(n){this._asaps.push(n)},n.prototype.run=function(n){this.run=this.push,n&&this.asaps.push(n),Promise.resolve(this).then(function(n){n.run=n._push;for(var t=0,r=n.asaps.length;t<r;t++)n.asaps[t]();n.asaps=n._asaps,n._asaps=[],delete n.run,n.asaps.length&&n.run()})};var r=new n;function f(n,t){return r.run(n),t}function c(n){return new Error(n)}function u(u,e,n){return function(t,r){return n(function(n){return e=u(e,n)},function(n){return n?r(n):(t(e),r())})}}exports.asap=f,exports.pipe=function(n){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];return t.reduce(function(n,t){return t(n)},n)},exports.reusePipe=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=n.pop(),u=pipe.apply(void 0,n);return{start:function(){this.stop=e(r(u))}}},exports.subscribe=function(t,r,u){return void 0===r&&(r=v),void 0===u&&(u=v),function(n){return n(t,e(function(n){return n?r(n):u()}))}},exports.subject=function(){var r=v,u=v,n=exports.share(function(n,t){r=n,u=t});return n.next=function(n){return r(n,v)},n.complete=function(){return u()},n.error=function(n){return u(n)},n},exports.fromArray=function(e){return function(n,t,r,u){return void 0===r&&(r=0),void 0===u&&(u=e.length),f(function(){for(;r<u;)n(e[r++]);t()},function(){return r=u,t=v})}},exports.of=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return exports.fromArray(n)},exports.interval=function(u){return function(n){var t=0,r=setInterval(function(){return n(t++)},u);return function(){return clearInterval(r)}}},exports.timer=function(e,o){return function(n){var t=0,r=clearTimeout,u=setTimeout(function(){r=clearInterval,u=setInterval(function(){return n(t++)},o)},e);return function(){return r(u)}}},exports.fromEventPattern=function(t,r){return function(n){return f(function(){return t(n)},function(){return r(n)})}},exports.fromEvent=function(t,r){return"function"==typeof t.on?exports.fromEventPattern(function(n){return t.on(r,n)},function(n){return t.off(r,n)}):exports.fromEventPattern(function(n){return t.addEventListener(r,n)},function(n){return t.removeEventListener(r,n)})},exports.range=function(e,o){return function(n,t,r,u){return void 0===r&&(r=e),void 0===u&&(u=o+e),f(function(){for(;r<u;)n(r++);t()},function(){return r=u,t=v})}},exports.fromPromise=function(n){return function(t,r){return n.then(function(n){return r&&t(n),r&&r()}).catch(function(n){return r&&r(n)}),function(){return r=null}}},exports.fromIterable=function(n){return function(t,r){var u,e,o=n[Symbol.iterator](),i=!1;return f(function(){var n;try{for(;!i;)n=o.next(e),u=n.value,i=n.done,e=t(u);r()}catch(n){r(n)}}),function(){return o.return(_),i=!0,r=v}}},exports.from=function(n){switch(!0){case n instanceof Array:return exports.fromArray(n);case n instanceof Promise:return exports.fromPromise(n);case n[Symbol.iterator]&&"function"==typeof n[Symbol.iterator]:return exports.fromIterable(n);default:return exports.of(n)}},exports.bindCallback=function(t,e){for(var o=[],n=arguments.length-2;0<n--;)o[n]=arguments[n+2];return function(r,u){return f(function(){var n=o.concat(function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return u&&r(1<n.length?n:n[0]),u&&u()});t.apply?t.apply(e,n):t.apply(void 0,n)},function(){return u=null})}},exports.bindNodeCallback=function(t,r){for(var o=[],n=arguments.length-2;0<n--;)o[n]=arguments[n+2];return function(u,e){return f(function(){var n=o.concat(function(n){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];return e&&n&&e(n)||(e&&u(1<t.length?t:t[0]),e&&e())});t.apply?t.apply(r,n):t.apply(void 0,n)},function(){return e=null})}},exports.never=function(n){return v},exports.throwError=function(r){return function(n,t){return t(r),v}},exports.empty=exports.throwError(),exports.iif=function(r,u,e){return function(n,t){return r()?u(n,t):e(n,t)}},exports.race=function(){for(var f=[],n=arguments.length;n--;)f[n]=arguments[n];return function(t,r){var u=function(){return n.forEach(function(n){return n()})},e=function(n){return u(),t(n),r()},o=f.length,i=function(n){return 0==--o&&r(n)},n=f.map(function(n){return n(e,i)});return u}},exports.concat=function(){for(var f=[],n=arguments.length;n--;)f[n]=arguments[n];return function(t,r,u,e,o,i){return void 0===u&&(u=0),void 0===e&&(e=v),void 0===o&&(o=f.length),void 0===i&&(i=function(n){return n?r(n):u<o?e=f[u++](t,i):r()}),i(),function(){return u=o,e()}}},exports.merge=function(){for(var o=[],n=arguments.length;n--;)o[n]=arguments[n];return function(t,r){var u=o.length,e=function(n){return 0==--u&&r()},n=o.forEach(function(n){return n(t,e)});return function(){return n.forEach(function(n){return n()})}}},exports.combineLatest=function(){for(var u=[],n=arguments.length;n--;)u[n]=arguments[n];return function(o,t){var i=u.length,r=i,f=0,c=function(n){return 0==--r&&t(n)},s=new Array(i),n=u.forEach(function(n,t){return n((r=t,u=function(n){s[r]=n,f===i&&(o(s),e=function(n){return s[r]=n,o(s)})},e=function(n){return++f,(e=u)(n)},function(n){return e(n)}),c);var r,u,e});return function(){return n.forEach(function(n){return n()})}}},exports.startWith=function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];return function(o){return function(n,t,r,u,e){return void 0===u&&(u=v),void 0===e&&(e=i.length),f(function(){for(;r<e;)n(i[r++]);t&&(u=o(n,t))},function(){return r=e,u(),t=null})}}},exports.share=function(r){var u=v,e=[],o=[],i=function(t){return e.forEach(function(n){return n(t)})},f=function(t){o.forEach(function(n){return n(t)}),e.length=o.length=0,u=v};return function(n,t){return e.push(n),o.push(t),u===v&&(u=r(i,f)),function(){e.splice(e.indexOf(n),1),o.splice(o.indexOf(t),1),0===o.length&&(u(),u=v)}}},exports.ignoreElements=function(r){return function(n,t){return r(v,t)}},exports.take=function(o){return function(n){return function(t,r,u){void 0===u&&(u=o);var e=n(function(n){return t(n),0==--u&&(e(),r())},r);return e}}},exports.takeUntil=function(o){return function(e){return function(n,t){var r=o(function(n){return u(),r(),t()},v),u=e(n,function(n){return r(),t(n)});return function(){return r(),u()}}}},exports.takeWhile=function(e){return function(n){return function(t,r){var u=n(function(n){return e(n)?t(n):(u(),r())},r);return u}}},exports.takeLast=function(r){return function(n){return u(function(n,t){return n.push(t),n.length>r&&n.shift(),n},[],n)}},exports.skip=function(o){return function(e){return function(n,t){var r=o,u=function(){return 0==--r&&(u=n)};return e(function(n){return u(n)},t)}}},exports.skipUntil=function(i){return function(o){return function(t,r){var u=v,e=i(function(n){return u=t,e()},v),n=o(function(n){return u(n)},function(n){return e(),r(n)});return function(){return e(),n()}}}};var t={leading:!0,trailing:!(exports.skipWhile=function(e){return function(u){return function(t,n){var r=function(n){return e(n)||(r=t)(n)};return u(function(n){return r(n)},n)}}})},o={leading:!(exports.throttle=function(p,l){return void 0===l&&(l=t),function(a){return function(t,r){var u=!1,e=v,o=null,i=!1;function f(n){i&&(t(n),s(n)),i=!1}function c(){u&&e(),u=!1,l.trailing&&f(o)}var s=function(n){return u=!0,e=p(n)(c,c)},n=a(function(n){o=n,i=!0,u||(l.leading?f(n):s(n))},function(n){return n?r(n):(c(),r())});return function(){return e(),n()}}}}),trailing:!0};exports.audit=function(n){return exports.throttle(n,o)},exports.filter=function(u){return function(r){return function(t,n){return r(function(n){return u(n)&&t(n)},n)}}},exports.elementAt=function(i,f){return function(n){return function(t,r,u,e){void 0===u&&(u=f),void 0===e&&(e=i);var o=n(function(n){return 0==e--&&(u=n,o(),t(n),r())},function(n){return n||void 0===last&&(n=c("no elements in sequence"))?r(n):r()});return o}}},exports.find=function(t){return function(n){return exports.take(1)(exports.skipWhile(function(n){return!t(n)})(n))}},exports.findIndex=function(o){return function(n){return function(t,r,u){void 0===u&&(u=0);var e=n(function(n){return o(n)?(t(u++),e(),r()):++u},r);return e}}},exports.first=function(o,i){return void 0===o&&(o=function(){return!0}),function(n){return function(t,r,u,e){return void 0===u&&(u=i),void 0===e&&(e=0),n(function(n){return o(n,e++)&&(u=n)&&(t(u),r())},function(n){return n||void 0===u&&(n=c("no elements in sequence"))?r(n):r()})}}},exports.last=function(o,i){return void 0===o&&(o=function(){return!0}),function(n){return function(t,r,u,e){return void 0===u&&(u=i),void 0===e&&(e=0),n(function(n){return o(n,e++)&&(u=n)},function(n){return n||void 0===u&&(n=c("no elements in sequence"))?r(n):(t(u),r())})}}},exports.count=function(r){return function(n){return u(function(n,t){return r(t)?n++:n},0,n)}},exports.max=function(n){return u(function(n,t){return t<n?n:t},NaN,n)},exports.min=function(n){return u(function(n,t){return n<t?n:t},NaN,n)},exports.reduce=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return function(n){return u(function(n,t){return t},void 0,exports.scan.apply(exports,t)(n))}},exports.pluck=function(u){return function(r){return function(t,n){return r(function(n){return t(n[u])},n)}}},exports.repeat=function(t){return function(n){return function(u,e,o,i){return void 0===o&&(o=[]),void 0===i&&(i=t),n(function(n){return o.push(n),u(n)},function(n){if(n)e(n);else{var t=exports.fromArray(o),r=function(){return 0<--i?t(u,r):e()};r()}})}}},exports.pairwise=function(e){return function(t,n,r,u){return void 0===u&&(u=function(n){return r=n,u=function(n){return t([r,n]),r=n}}),e(function(n){return u(n)},n)}},exports.map=function(u){return function(r){return function(t,n){return r(function(n){return t(u(n))},n)}}},exports.switchMap=function(i,f){return function(t){return function(r,u){var e=null,o=!1,n=v;return n=t(function(t,n){return e&&e(),e=i(t)(f?function(n){return r(f(t,n))}:r,function(n){e=null,o&&u(n)})},function(n){o=!0,e||u(n)}),function(){n(),e&&e(),e=null}}}},exports.switchMapTo=function(t,n){return exports.switchMap(function(n){return t},n)},exports.scan=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var i=n[0],f=n[1],c=2===n.length;return function(o){return function(t,n){var r=f,u=function(n){return t(r=i(r,n))},e=function(n){return t(r=n),e=u};return o(c?u:function(n){return e(n)},n)}}},exports.bufferTime=function(i){return function(o){return function(t,r){var u=[],e=setInterval(function(){return t(u.concat()),u.length=0},i),n=o(function(n){return u.push(n)},function(n){clearInterval(e),n||t(u,close),r(n)});return function(){return clearInterval(e),n()}}}},exports.tap=function(u){return function(r){return function(t,n){return r(function(n){return u(n),t(n)},n)}}},exports.delay=function(o){return function(e){return function(n,t){var r=function(){return clearTimeout(u)},u=setTimeout(function(){return r=e(n,t)},o);return function(){return r()}}}}});

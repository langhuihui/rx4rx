!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t,e,n){return(s=f()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);r=new(Function.bind.apply(t,r));return n&&c(r,n.prototype),r}).apply(null,arguments)}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(n){var r=f();return function(){var t,e=u(n);return a(this,r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}var t=require("./common"),h=t.Sink,e=t.deliver,y=t.noop;exports.Sink=h,exports.pipe=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(t,e){return e(t)},t)};var v=function(){function i(t){o(this,i),this.subscribe=t;for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.source=(t=exports).pipe.apply(t,n)}return n(i,[{key:"start",value:function(){this.subscriber=this.subscribe(this.source)}},{key:"stop",value:function(){this.subscriber&&this.subscriber.dispose()}}]),i}();exports.reusePipe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s(v,e)},exports.toPromise=function(t){return new Promise(function(e,n){var r=new h;r.next=function(t){return r.value=t},r.complete=function(t){return t?n(t):e(r.value)},t(r)})},exports.subscribe=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:y,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:y;return function(t){var e=new h;return e.next=n,e.complete=function(t){return t?r(t):i()},t(e),e}};t=function(){i(e,h);var t=p(e);function e(){return o(this,e),t.apply(this,arguments)}return n(e,[{key:"init",value:function(t){this.f=t}},{key:"next",value:function(t){(0,this.f)(t),this.sink.next(t)}}]),e}();exports.tap=e(t);t=function(){i(e,h);var t=p(e);function e(){return o(this,e),t.apply(this,arguments)}return n(e,[{key:"init",value:function(t){this.delayTime=t,this.buffer=[],this.timeoutId=[clearTimeout,,],this.defer(this.timeoutId)}},{key:"delay",value:function(t){this.timeoutId[2]=setTimeout(this.pop,t,this)}},{key:"pop",value:function(t){var e=t.buffer.shift(),n=e.time,e=e.data;t.sink.next(e),t.buffer.length&&t.delay(t.buffer[0].time-n)}},{key:"next",value:function(t){this.buffer.length||this.delay(this.delayTime),this.buffer.push({time:new Date,data:t})}},{key:"complete",value:function(t){var e=this;t?this.sink.complete(t):this.timeoutId[2]=setTimeout(function(){return e.sink.complete()},this.delayTime)}}]),e}();exports.delay=e(t);var b,d,m,t=function(){i(e,h);var t=p(e);function e(){return o(this,e),t.apply(this,arguments)}return n(e,[{key:"init",value:function(t){this.selector=t}},{key:"complete",value:function(t){t?this.selector(t)(this.sink):l(u(e.prototype),"complete",this).call(this)}}]),e}();exports.catchError=e(t),Object.assign(exports,require("./combination"),require("./filtering"),require("./mathematical"),require("./producer"),require("./transformation"),require("./vue3")),"undefined"==typeof Proxy?(b={},((d=function(t){return Object.setPrototypeOf(t,b)}).set=function(n){for(var t in n)!function(t){var e=n[t];switch(t){case"Sink":case"pipe":case"reusePipe":break;case"subscribe":b[t]=function(){return e.apply(void 0,arguments)(this)};break;case"toPromise":b[t]=function(){return e(this)};break;default:b[t]=function(){return d(e.apply(void 0,arguments)(this))},d[t]=function(){return d(e.apply(void 0,arguments))}}}(t)})(exports),exports.rx=d):(m={get:function(e,n){return e[n]||function(){var t;return new Proxy((t=exports)[n].apply(t,arguments)(e),m)}}},exports.rx=new Proxy(function(t){return new Proxy(t,m)},{get:function(t,e){return function(){var t;return new Proxy((t=exports)[e].apply(t,arguments),m)}},set:function(t,e,n){return exports[e]=n}}))});
//# sourceMappingURL=umd.js.map
